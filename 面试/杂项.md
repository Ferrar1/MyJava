1. 实现：一套代码，用于线上环境+测试环境。maven提供了一种方便的解决这种问题的方案，就是profile功能
   1. 过滤器[Filter](https://www.runoob.com/w3cnote/filter-filterchain-filterconfig-intro.html)。在将代码代码部署到测试环境时就拿到了该测试服务器的maven的setting.xml，在里面人为定义机器的环境情况，于是pom.xml将调整为目的环境（在直接用[idea](https://www.jetbrains.com/help/idea/work-with-maven-profiles.html)开发的时候，可以点击右上角的maven，然后点击`m`按钮弹出命令框，输入`-P 您的配置文件的名称`，或者直接选择目标环境）。拿到对应环境的变量值，就可以赋值给web.xml中。在 Web 应用程序启动时，Web 服务器（Web 容器）将根据其 web.xml 文件的配置信息来创建每个注册的 Filter 的实例对象，并将其保存在内存中。
   
            @Override
            public void init(FilterConfig filterConfig) throws ServletException {
                serverName = filterConfig.getInitParameter("serverName");//测试的网址，拿法跟isTest一样
                isTest = Boolean.parseBoolean(filterConfig.getInitParameter("isTest"));//是否为测试环境，从web.xml中拿，而web.xml从pom.xml中拿。而pom.xml的具体环境值根据profile确定
            }
   2. 然后在doFilter中根据地址来实现过滤
